# This docker-compose file should be able to run the cromulon docker image
# generated by ../scripts/build_docker_image.sh.

version: '2.1'
services:
  neo4j:
    image: neo4j:3.3.3
    environment:
      - NEO4J_AUTH=none
    ports:
      - 7474:7474
      - 7687:7687
  cromulon:
    image: cromulon
    working_dir: /cromulon
    ports:
      - "4000:4000"
      - "5369:4369"
    environment:
      PORT: 4000
      CROMULON_BOLT_HOST: neo4j
    depends_on:
      neo4j:
        condition: service_started
